{% block filter %}
<div class="filter-sort-bar p-3 p-lg-4 mb-5 rounded-3 shadow-sm bg-white" data-aos="fade-up" data-aos-delay="100">
    <form id="filterForm" action="" method="GET">
        <div class="row g-3 align-items-center">

            <div class="col-12 col-lg-3">
                <div class="input-group">
                    <span class="input-group-text bg-light border-0 text-muted ps-3 rounded-start-3">
                        <i class="bi bi-search"></i>
                    </span>
                    <input type="text" name="search" class="form-control bg-light border-0 ps-2 rounded-end-3 shadow-sm" placeholder="Search services...">
                </div>
            </div>

            <div class="col-12 col-lg-7">
                <div class="d-flex align-items-center gap-3">

                    <div class="d-none d-xl-flex align-items-center fw-bold text-secondary text-uppercase fs-7 text-nowrap">
                        <i class="bi bi-sliders me-2"></i>Filter
                    </div>

                    <div class="row g-2 flex-grow-1">

                        <div class="col-4">
                            <input type="hidden" name="category" class="filter-input-hidden">

                            <div class="dropdown">
                                <button class="btn custom-select-btn dropdown-toggle text-truncate" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                    <span class="selected-text">Any Category</span>
                                </button>
                                <ul class="dropdown-menu dropdown-menu-custom w-100">
                                    <li><a class="dropdown-item" href="#" data-value="">Any Category</a></li>
                                    {% for c in category %}
                                    <li><a class="dropdown-item" href="#" data-value="{{c.id}}">{{c.name}}</a></li>
                                    {% endfor %}
                                </ul>
                            </div>
                        </div>

                        <div class="col-4">
                            <input type="hidden" name="badge" class="filter-input-hidden">

                            <div class="dropdown">
                                <button class="btn custom-select-btn dropdown-toggle text-truncate" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                     <span class="selected-text">Any Badge</span>
                                </button>
                                <ul class="dropdown-menu dropdown-menu-custom w-100">
                                    <li><a class="dropdown-item" href="#" data-value="">Any Badge</a></li>
                                    {% for b in badge %}
                                    <li><a class="dropdown-item" href="#" data-value="{{b.id}}">{{b.name}}</a></li>
                                    {% endfor %}
                                </ul>
                            </div>
                        </div>

                        <div class="col-4">
                            <input type="hidden" name="feature" class="filter-input-hidden">

                            <div class="dropdown">
                                <button class="btn custom-select-btn dropdown-toggle text-truncate" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                    <span class="selected-text">Any Feature</span>
                                </button>
                                <ul class="dropdown-menu dropdown-menu-custom w-100">
                                    <li><a class="dropdown-item" href="#" data-value="">Any Feature</a></li>
                                    {% for f in features %}
                                    <li><a class="dropdown-item" href="#" data-value="{{f.id}}">{{f.name}}</a></li>
                                    {% endfor %}
                                </ul>
                            </div>
                        </div>

                        <input type="hidden" name="page" id="currentPage" value="1">
                    </div>
                </div>
            </div>

            <div class="col-12 col-lg-2">
                <div class="d-flex justify-content-lg-end align-items-center">
                    <span class="fw-bold text-muted me-2 d-lg-none">Sort by:</span>

                    <div class="dropdown w-100 w-lg-auto">
                        <input type="hidden" name="sort" class="filter-input-hidden" value="newest">
                        <button class="btn custom-select-btn dropdown-toggle text-truncate" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <span class="selected-text">Newest</span>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-custom dropdown-menu-end">
                            <li><a class="dropdown-item" href="#" data-value="newest">Newest</a></li>
                            <li><a class="dropdown-item" href="#" data-value="oldest">Oldest</a></li>
                            <li><a class="dropdown-item" href="#" data-value="price_asc">Price: Low to High</a></li>
                            <li><a class="dropdown-item" href="#" data-value="price_desc">Price: High to Low</a></li>
                        </ul>
                    </div>
                </div>
            </div>

        </div>
    </form>
</div>
{% endblock %}